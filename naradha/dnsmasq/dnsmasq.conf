# =============================
# dnsmasq.conf
# =============================

# --- DNS Settings ---

no-resolv
server=1.1.1.3
server=1.0.0.3
server=2606:4700:4700::1113
server=2606:4700:4700::1003

domain-needed
bogus-priv
cache-size=1000
local-ttl=60
#expand-hosts

# Block or redirect domains
conf-file=/etc/blocklist.conf

address=/naradha.lan/10.0.0.10
address=/naradha.lan/fdef:1d15:3d44::10
address=/nrd.lan/fdef:1d15:3d44::10
address=/nextcloud.lan/fdef:1d15:3d44::10
address=/syncthing.lan/fdef:1d15:3d44::10
address=/jellyfin.lan/fdef:1d15:3d44::10
address=/immich.lan/fdef:1d15:3d44::10

# --- Interface & Binding ---

#interface=eth0                                  # LAN interface
#listen-address=10.0.0.10                         # IPv4 LAN IP
#listen-address=fdef:1d15:3d44::10                # IPv6 ULA LAN IP
#bind-interfaces                                 # Only bind to these addresses

# --- DHCPv4 ---

dhcp-range=10.0.0.101,10.254.254.254,1h
dhcp-option=option:router,10.0.0.10
dhcp-option=option:dns-server,10.0.0.10

# Static IPv4 leases
#dhcp-host=00:11:22:33:44:55,device1,192.168.1.60

# --- DHCPv6 & Router Advertisements ---

enable-ra
dhcp-range=::,constructor:eno1,ra-stateless,64,1h
dhcp-option=option6:dns-server,[fdef:1d15:3d44::10]

# --- Misc ---

dhcp-leasefile=/var/lib/misc/dnsmasq.leases

# Optional logging for troubleshooting
# log-queries
# log-dhcp

